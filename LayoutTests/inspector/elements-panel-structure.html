<html>
<head>
<script src="evaluate-in-frontend.js"></script>
<script>

function doit()
{
    function callback(result)
    {
        var output = document.getElementById("output");
        output.textContent = result.replace(/\u200b/g, "").replace(/\n/g, "").replace(/</g, "\n<");
        notifyDone();
    }
    evaluateInWebInspector("dumpElements", callback);
}

</script>
</head>

<body onload="onload()">
<p>
Tests that elements panel shows dom tree structure.
</p>

<div id="frontend-script" style="display:none">
function dumpElements(testController)
{
    testController.waitUntilDone();
    expandDOMSubtree(WebInspector.domAgent.document);
    testController.runAfterPendingDispatches(function() {
        testController.notifyDone(WebInspector.panels.elements.treeOutline.element.textContent);
    });
}
</div>

<pre id="output">
</pre>

</body>
</html>
